+++ dwm/dwm.c
@@ -51,7 +51,7 @@
                                * MAX(0, MIN((y)+(h),(m)->wy+(m)->wh) - MAX((y),(m)->wy)))
 #define ISVISIBLE(C)            ((C->tags & C->mon->tagset[C->mon->seltags]))
 #define LENGTH(X)               (sizeof X / sizeof X[0])
-#define MAXCOLORS               9
+#define MAXCOLORS               12
 #define MOUSEMASK               (BUTTONMASK|PointerMotionMask)
 #define WIDTH(X)                ((X)->w + 2 * (X)->bw)
 #define HEIGHT(X)               ((X)->h + 2 * (X)->bw)
@@ -247,6 +247,7 @@
 static void tile(Monitor *);
 static void togglebar(const Arg *arg);
 static void togglefloating(const Arg *arg);
+static void togglefullscreen(const Arg *arg);
 static void toggletag(const Arg *arg);
 static void toggleview(const Arg *arg);
 static void unfocus(Client *c, Bool setfocus);
@@ -882,7 +883,18 @@
 	x += w;
 	xx = x;
 	if(m == selmon) { /* status is only drawn on selected monitor */
-		w = TEXTW(stext);
+		// this is a partial solution to the text set by xsetroot being too long
+		// hex codes used for colours are being included in the length, but are not rendered
+		// other characters (only glyphs?) are also being counted, so this solution is not perfect, but it's close
+		int count = 0;
+		for (i = 0; i < 100; i++) {
+			if (!stext[i])
+				break;
+			if (stext[i] < 0x0F) {
+				count++;
+			}
+		}
+		w = TEXTW(stext) - count;
 		x = m->ww - w;
 		if(showsystray && m == systraytomon(m)) {
 			x -= getsystraywidth();
@@ -1975,6 +1987,16 @@
 }

 void
+togglefullscreen(const Arg *arg) {
+    if(!selmon->sel)
+        return;
+    if(selmon->sel->isfullscreen)
+        setfullscreen(selmon->sel, False);
+    else
+        setfullscreen(selmon->sel, True);
+}
+
+void
 toggletag(const Arg *arg) {
 	unsigned int newtags;
